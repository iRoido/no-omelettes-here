<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No Omelettes Here</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            text-align: center; 
            background-color: #121212; 
            color: #E0E0E0; 
            margin: 0; 
            padding: 0;
        }
        h1, p { 
            margin: 20px 0; 
        }
        #eggList { 
            margin-top: 20px; 
            display: flex; 
            flex-wrap: wrap; 
            justify-content: center;
        }
        .egg { 
            margin: 10px; 
            padding: 10px; 
            border: 1px solid #333; 
            display: inline-block;
            background-color: #1E1E1E;
            border-radius: 8px;
        }
        img { 
            width: 100px; 
            height: 100px; 
            border-radius: 5px; 
            margin-bottom: 10px;
        }
        input, button { 
            padding: 10px; 
            margin: 10px 0; 
            border: 1px solid #333; 
            background-color: #1E1E1E; 
            color: #E0E0E0;
            border-radius: 5px;
        }
        button { 
            cursor: pointer; 
        }
        button:hover { 
            background-color: #333; 
        }
    </style>
</head>
<body>
    <h1>No Omelettes Here</h1>
    <p>Helping eggs, not frying them!</p>
    <p>Submit your Dragon Cave egg URLs below.</p>
    
    <form id="eggForm">
        <input type="text" id="eggURL" placeholder="Enter egg URL (e.g., https://dragcave.net/view/[eggID])" required>
        <button type="submit">Add Egg</button>
    </form>
    
    <div id="eggList"></div>
    
    <script>
        document.getElementById('eggForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const url = document.getElementById('eggURL').value;
            console.log('Submitted Egg URL:', url);  // Debugging log

            if (url) {
                const eggList = document.getElementById('eggList');
                const eggDiv = document.createElement('div');
                eggDiv.className = 'egg';

                // Get the egg ID from the URL
                const eggID = getEggIDFromURL(url);
                console.log('Extracted Egg ID:', eggID);  // Debugging log
                
                if (eggID) {
                    // Generate the egg image URL based on the ID
                    const eggImageURL = `https://dragcave.net/images/eggs/${eggID}.png`;

                    // Create the image element with the egg image URL
                    const img = document.createElement('img');
                    img.src = eggImageURL;  // Generated egg image URL
                    img.alt = "Egg Image";

                    // Create a link to the egg (if desired)
                    const eggLink = document.createElement('a');
                    eggLink.href = url;
                    eggLink.target = "_blank";
                    eggLink.textContent = url;

                    // Append the image and link to the eggDiv
                    eggDiv.appendChild(img);
                    eggDiv.appendChild(eggLink);

                    // Append eggDiv to the list
                    eggList.appendChild(eggDiv);
                    
                    // Clear the input
                    document.getElementById('eggURL').value = '';
                } else {
                    console.log('Invalid egg ID format');
                }
            }
        });

        // Function to extract egg ID from the URL
        function getEggIDFromURL(url) {
            const match = url.match(/\/view\/(\d+)/);
            if (match) {
                return match[1];  // Return the egg ID (numeric ID)
            }
            return null;  // Return null if the URL format is incorrect
        }
    </script>
</body>
</html>
